<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>3.1具体实施部署 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="以下是基于“零氪开源方案”架构设计的具体实施部署方案，分开发部署（Hexo博客搭建） 和运维管理（日志清理+文件同步） 两部分展开，步骤均为实操导向： 一、开发部署：Hexo博客搭建与上线（GitHub Pages&#x2F;Vercel）1. 本地开发环境搭建">
<meta property="og:type" content="article">
<meta property="og:title" content="3.1具体实施部署">
<meta property="og:url" content="http://example.com/2024/05/20/3.1%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E9%83%A8%E7%BD%B2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="以下是基于“零氪开源方案”架构设计的具体实施部署方案，分开发部署（Hexo博客搭建） 和运维管理（日志清理+文件同步） 两部分展开，步骤均为实操导向： 一、开发部署：Hexo博客搭建与上线（GitHub Pages&#x2F;Vercel）1. 本地开发环境搭建">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/kkVers/Pictures@master//%E4%BD%A0%E7%9A%84GitHub%E7%94%A8%E6%88%B7%E5%90%8D.github.io%E5%A1%AB%E5%86%99%E7%A4%BA%E4%BE%8B202508131826933.png">
<meta property="article:published_time" content="2024-05-20T07:30:00.000Z">
<meta property="article:modified_time" content="2025-08-17T06:56:37.054Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/kkVers/Pictures@master//%E4%BD%A0%E7%9A%84GitHub%E7%94%A8%E6%88%B7%E5%90%8D.github.io%E5%A1%AB%E5%86%99%E7%A4%BA%E4%BE%8B202508131826933.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-3.1具体实施部署" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/20/3.1%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E9%83%A8%E7%BD%B2/" class="article-date">
  <time class="dt-published" datetime="2024-05-20T07:30:00.000Z" itemprop="datePublished">2024-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      3.1具体实施部署
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>以下是基于“零氪开源方案”架构设计的具体实施部署方案，分<strong>开发部署（Hexo博客搭建）</strong> 和<strong>运维管理（日志清理+文件同步）</strong> 两部分展开，步骤均为实操导向：</p>
<h2 id="一、开发部署：Hexo博客搭建与上线（GitHub-Pages-Vercel）"><a href="#一、开发部署：Hexo博客搭建与上线（GitHub-Pages-Vercel）" class="headerlink" title="一、开发部署：Hexo博客搭建与上线（GitHub Pages&#x2F;Vercel）"></a>一、开发部署：Hexo博客搭建与上线（GitHub Pages&#x2F;Vercel）</h2><h3 id="1-本地开发环境搭建"><a href="#1-本地开发环境搭建" class="headerlink" title="1. 本地开发环境搭建"></a>1. 本地开发环境搭建</h3><span id="more"></span>

<h4 id="（1）安装基础依赖"><a href="#（1）安装基础依赖" class="headerlink" title="（1）安装基础依赖"></a>（1）安装基础依赖</h4><ul>
<li><p><strong>安装Node.js（含npm）</strong>  </p>
<ul>
<li>访问<a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js官网</a>，下载LTS版本（推荐16.x及以上），按向导安装（Windows勾选“Add to PATH”，Linux&#x2F;macOS可通过包管理器：<code>sudo apt install nodejs npm</code>）。<ul>
<li>在下载界面不用关注别的，关键点：  下载LTS版本、操作系统、下载通道.msi，其他不影响下载和使用</li>
</ul>
</li>
<li>验证安装：终端输入<code>node -v</code>和<code>npm -v</code>，显示版本号即成功。</li>
</ul>
</li>
<li><p><strong>安装Git</strong>  </p>
<ul>
<li>Windows：下载<a target="_blank" rel="noopener" href="https://git-scm.com/">Git for Windows</a>，安装时勾选“Use Git from Git Bash only”。  </li>
<li>Linux：<code>sudo apt install git</code>；macOS：<code>brew install git</code>（需先安装Homebrew）。  </li>
<li>配置Git身份：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="2-Hexo项目初始化与配置"><a href="#2-Hexo项目初始化与配置" class="headerlink" title="2. Hexo项目初始化与配置"></a>2. Hexo项目初始化与配置</h3><p>“Hexo 脚手架”（全称是<code>hexo-cli</code>，CLI 即 “命令行工具”）是一个<strong>帮助你快速搭建 Hexo 博客项目基础结构的工具</strong>，可以理解为 “自动搭建博客框架的模板生成器”。</p>
<h4 id="（1）安装Hexo并初始化项目"><a href="#（1）安装Hexo并初始化项目" class="headerlink" title="（1）安装Hexo并初始化项目"></a>（1）安装Hexo并初始化项目</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可以在cmd、powershell、Git Bash中执行</span></span><br><span class="line"><span class="comment"># 全局安装Hexo脚手架</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"><span class="comment"># 创建博客项目文件夹（如hexo-blog）并进入</span></span><br><span class="line"><span class="built_in">mkdir</span> hexo-blog &amp;&amp; <span class="built_in">cd</span> hexo-blog</span><br><span class="line"><span class="comment"># 初始化Hexo项目</span></span><br><span class="line">hexo init</span><br><span class="line"><span class="comment"># 安装依赖包</span></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>安装位置优化</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局安装Hexo脚手架</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"><span class="comment"># 创建博客项目文件夹（可自定义本地保存路径，示例路径如下）</span></span><br><span class="line"><span class="comment"># 格式：mkdir [自定义路径/文件夹名] &amp;&amp; cd [自定义路径/文件夹名]</span></span><br><span class="line"><span class="comment"># 示例1：Windows系统（D盘hexo-projects目录下）</span></span><br><span class="line"><span class="built_in">mkdir</span> D:\hexo-projects\my-blog &amp;&amp; <span class="built_in">cd</span> D:\hexo-projects\my-blog</span><br><span class="line"><span class="comment"># 示例2：Linux/macOS系统（用户目录下的blogs文件夹）</span></span><br><span class="line"><span class="built_in">mkdir</span> ~/blogs/my-hexo-site &amp;&amp; <span class="built_in">cd</span> ~/blogs/my-hexo-site</span><br><span class="line"><span class="comment"># 初始化Hexo项目（初始化后所有博客文件会保存在当前路径）</span></span><br><span class="line">hexo init</span><br><span class="line"><span class="comment"># 安装依赖包</span></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p><strong>路径修改说明</strong>：</p>
<ul>
<li>上述<code>mkdir</code>命令中的路径可自定义（如<code>E:\Blog\hexo</code>或<code>/home/user/hexo</code>），建议选择空间充足、路径无中文 &#x2F; 特殊符号的目录（避免后续命令执行异常）。</li>
<li>若需将已创建的项目移动到新路径：直接通过文件管理器剪切文件夹到目标路径，重新用<code>cd</code>命令进入新路径即可（Hexo 依赖相对路径，移动后无需额外配置）。</li>
</ul>
<h4 id="（2）本地预览博客"><a href="#（2）本地预览博客" class="headerlink" title="（2）本地预览博客"></a>（2）本地预览博客</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成静态文件（首次运行或修改配置后需执行）</span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动本地服务器（默认端口4000）</span></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<ul>
<li>静态文件路径：<code>[你的项目路径]/public</code>（部署时会将该目录内容推送到远程）。</li>
<li>文章存放路径：<code>[你的项目路径]/source/_posts</code>（所有 Markdown 格式的文章需保存在此目录）。</li>
</ul>
<p>打开浏览器访问<code>http://localhost:4000</code>，可看到默认博客页面，确认本地环境正常。<br>当你不需要预览时，回到运行<code>hexo s</code>的终端窗口，按 <code>Ctrl + C</code>（Windows&#x2F;Linux&#x2F;Mac 通用），终端会显示 <code>INFO Have a nice day!</code>，表示服务器已停止。<br>此时终端会释放，你可以继续在这个窗口执行其他命令（比如<code>hexo g</code>生成静态文件、<code>hexo d</code>部署到远程等）。</p>
<h3 id="3-部署到GitHub-Pages"><a href="#3-部署到GitHub-Pages" class="headerlink" title="3. 部署到GitHub Pages"></a>3. 部署到GitHub Pages</h3><h4 id="（1）创建GitHub仓库"><a href="#（1）创建GitHub仓库" class="headerlink" title="（1）创建GitHub仓库"></a>（1）创建GitHub仓库</h4><ul>
<li><p>登录GitHub，新建仓库，仓库名必须为<code>你的GitHub用户名.github.io</code>（如<code>xiaoming.github.io</code>），勾选“Initialize this repository with a README”。仓库命名规则是<strong>GitHub Pages 的硬性要求</strong>，目的是让 GitHub 自动识别并托管你的静态网站（比如 Hexo 生成的博客），和本地仓库本身的名称没有直接关系。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkVers/Pictures@master//%E4%BD%A0%E7%9A%84GitHub%E7%94%A8%E6%88%B7%E5%90%8D.github.io%E5%A1%AB%E5%86%99%E7%A4%BA%E4%BE%8B202508131826933.png" alt="image-20250813182538717"></p>
</li>
</ul>
<h4 id="（2）配置Hexo部署插件"><a href="#（2）配置Hexo部署插件" class="headerlink" title="（2）配置Hexo部署插件"></a>（2）配置Hexo部署插件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在hexo-blog目录下安装部署插件</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"><span class="comment">#found 0 vulnerabilities表示完成无异常</span></span><br></pre></td></tr></table></figure>

<h4 id="（3）修改Hexo配置文件"><a href="#（3）修改Hexo配置文件" class="headerlink" title="（3）修改Hexo配置文件"></a>（3）修改Hexo配置文件</h4><p>打开项目根目录的<code>_config.yml</code>，拉到末尾修改<code>deploy</code>配置：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/你的GitHub用户名/你的GitHub用户名.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span>  <span class="comment"># 注意：GitHub默认分支可能是main或master，需与仓库一致</span></span><br></pre></td></tr></table></figure>

<h4 id="（4）部署到GitHub-Pages：简单执行"><a href="#（4）部署到GitHub-Pages：简单执行" class="headerlink" title="（4）部署到GitHub Pages：简单执行"></a>（4）部署到GitHub Pages：简单执行</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清除旧静态文件（可选，避免缓存问题）</span></span><br><span class="line"><span class="comment">#必须在项目根目录执行命令（即[你的项目路径]，如D:\hexo-projects\my-blog）。</span></span><br><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新生成并部署</span></span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>
<p>等待部署完成，访问<code>https://你的GitHub用户名.github.io</code>，即可看到在线博客。</p>
<p>这个时候你直接访问该地址，如果已经成功访问到在线博客（<code>https://你的GitHub用户名.github.io</code>），说明以下几个关键环节均已正常工作：</p>
<ol>
<li><strong>本地环境配置正确</strong><ul>
<li>Node.js、Hexo、Git 等基础依赖安装成功，且版本兼容（无命令执行错误）。</li>
<li>Hexo 项目初始化完成，本地预览（<code>hexo s</code>）正常，说明博客框架本身无问题。</li>
</ul>
</li>
<li><strong>部署配置无误</strong><ul>
<li>GitHub 仓库命名符合规范（<code>用户名.github.io</code>），且仓库已正确创建。</li>
<li>Hexo 部署插件（<code>hexo-deployer-git</code>）安装成功，<code>_config.yml</code> 中的 <code>repo</code> 地址和分支（<code>main</code>&#x2F;<code>master</code>）配置正确。</li>
</ul>
</li>
<li><strong>身份验证与部署流程成功</strong><ul>
<li>执行 <code>hexo g -d</code> 时，GitHub 身份验证（密码或令牌）通过，静态文件已成功推送到远程仓库。</li>
<li>GitHub Pages 服务已识别并正确渲染了推送的静态文件（<code>public</code> 目录内容）。</li>
</ul>
</li>
<li><strong>整体链路通畅</strong><ul>
<li>网络环境正常（可连接 GitHub 服务器，无墙或代理问题导致的推送 &#x2F; 访问失败）。</li>
<li>浏览器访问路径正确，无拼写错误（如用户名、仓库名是否准确）。</li>
</ul>
</li>
</ol>
<p>简单来说，访问成功意味着从本地开发到远程部署的全流程已打通，后续只需专注于博客内容更新即可（修改文章后重新执行 <code>hexo clean &amp;&amp; hexo g -d</code> 即可同步到线上）。</p>
<p>具体操作并没有完成，更具体完整的操作请看后续：</p>
<h5 id="①-确认执行位置"><a href="#①-确认执行位置" class="headerlink" title="① 确认执行位置"></a>① 确认执行位置</h5><p>必须在本地的 <code>hexo-blog</code> 项目根目录下执行命令，否则会提示 “找不到 Hexo 配置”。</p>
<ul>
<li><p>检查当前路径：打开终端（Windows 用 PowerShell&#x2F;Git Bash，Mac&#x2F;Linux 用终端），输入 <code>pwd</code>（Linux&#x2F;Mac）或 <code>cd</code>（Windows），确认路径为你创建的 <code>hexo-blog</code> 文件夹（例如 <code>C:\Users\你的用户名\hexo-blog</code> 或 <code>/home/你的用户名/hexo-blog</code>）。</p>
</li>
<li><p>若路径不对，通过<code>cd</code>命令切换：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在cmd终端界面，示例：切换到D盘的hexo-blog文件夹</span></span><br><span class="line"><span class="comment"># 需加 /d 参数（否则只会切换路径，不切换盘符）</span></span><br><span class="line"><span class="built_in">cd</span> D:\hexo-blog</span><br><span class="line"><span class="built_in">cd</span> /d D:\hexo-blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># Git Bash 基于 Linux 命令风格，路径分隔符用 /，且跨盘符切换无需额外参数：</span></span><br><span class="line"><span class="comment"># 例：从 C:/Users 切换到 D:/hexo-blog</span></span><br><span class="line"><span class="built_in">cd</span> /d/hexo-blog  <span class="comment"># 注意盘符小写，且用 / 分隔</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="②-执行部署命令"><a href="#②-执行部署命令" class="headerlink" title="② 执行部署命令"></a>② 执行部署命令</h5><p>在上述目录下，依次运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一步：清除旧的静态文件（重要，避免缓存冲突）</span></span><br><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二步：生成最新的静态文件并部署到GitHub</span></span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<p>后续的③ 处理部署中的交互（关键）有些多余，下面也做了说明，新的github到这里直接执行访问</p>
<h5 id="③-处理部署中的交互（关键）"><a href="#③-处理部署中的交互（关键）" class="headerlink" title="③ 处理部署中的交互（关键）"></a>③ 处理部署中的交互（关键）</h5><p>执行 <code>hexo g -d</code> 时，GitHub 会要求验证身份（核心目的是确认你有权限向仓库推送代码），但可能出现两种场景（均属正常）：</p>
<ul>
<li><p><strong>场景1：终端提示输入信息（首次部署且未配置自动验证时）</strong><br>终端会显示 <code>Username for &#39;https://github.com&#39;:</code>，输入你的 GitHub 用户名；<br>接着显示 <code>Password for &#39;https://你的用户名@github.com&#39;:</code>，此时<strong>必须输入个人访问令牌（PAT）</strong>（GitHub 已禁用密码验证）：  </p>
<ol>
<li>生成PAT：登录 GitHub → 头像 → <code>Settings</code> → <code>Developer settings</code> → <code>Personal access tokens</code> → <code>Generate new token</code>；  </li>
<li>勾选 <code>repo</code> 权限（推送代码必需），生成后<strong>立即复制令牌</strong>（仅显示一次）；  </li>
<li>在终端“Password”提示处粘贴令牌，回车完成验证。</li>
</ol>
</li>
<li><p><strong>场景2：无提示直接部署（已配置自动验证时）</strong><br>若你提前做了以下操作，部署时会自动通过验证，无需手动输入信息：  </p>
<ul>
<li>配置了 SSH 密钥：<code>_config.yml</code> 中 <code>repo</code> 地址为 SSH 格式（如 <code>git@github.com:用户名/用户名.github.io.git</code>），且密钥已添加到 GitHub 账号；  </li>
<li>Git 缓存了 PAT：之前输入过 PAT 并选择“记住凭据”（Windows 凭据管理器、macOS 钥匙串等会自动保存）。</li>
</ul>
</li>
</ul>
<p><strong>关键说明</strong>：无论是否有交互提示，“身份验证通过”是部署成功的核心前提。若终端最终显示 <code>Deploy done: git</code>，说明验证已通过；若提示“permission denied”，需检查 PAT 权限或 SSH 密钥配置是否正确。</p>
<h5 id="④-验证部署结果"><a href="#④-验证部署结果" class="headerlink" title="④ 验证部署结果"></a>④ 验证部署结果</h5><ul>
<li>部署成功后，终端会显示 <code>Deploy done: git</code>；</li>
<li>打开浏览器访问 <code>https://你的GitHub用户名.github.io</code>（例如 <code>https://xiaoming.github.io</code>），若能看到与本地预览一致的博客页面，即为成功。</li>
</ul>
<h5 id="关键注意事项"><a href="#关键注意事项" class="headerlink" title="关键注意事项"></a>关键注意事项</h5><ol>
<li>若部署失败，先检查：<ul>
<li><code>_config.yml</code> 中 <code>repo</code> 地址是否正确（必须是 <code>https://github.com/你的用户名/你的用户名.github.io.git</code>）；</li>
<li>分支 <code>branch</code> 是否与 GitHub 仓库默认分支一致（现在默认是 <code>main</code>，旧仓库可能是 <code>master</code>，需手动修改配置）。</li>
</ul>
</li>
<li>若提示 “找不到 hexo 命令”，需重新确认 Node.js 和 Hexo 已正确安装（执行 <code>hexo -v</code> 能显示版本号即为正常）。</li>
</ol>
<h3 id="4-部署到Vercel（备选方案）"><a href="#4-部署到Vercel（备选方案）" class="headerlink" title="4. 部署到Vercel（备选方案）"></a>4. 部署到Vercel（备选方案）</h3><h4 id="（1）推送项目到GitHub仓库"><a href="#（1）推送项目到GitHub仓库" class="headerlink" title="（1）推送项目到GitHub仓库"></a>（1）推送项目到GitHub仓库</h4><ul>
<li>在<code>hexo-blog</code>目录下初始化Git并关联远程仓库：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;initial commit&quot;</span></span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin https://github.com/你的GitHub用户名/hexo-blog.git  <span class="comment"># 仓库名可自定义</span></span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="（2）Vercel部署"><a href="#（2）Vercel部署" class="headerlink" title="（2）Vercel部署"></a>（2）Vercel部署</h4><ul>
<li>登录<a target="_blank" rel="noopener" href="https://vercel.com/">Vercel官网</a>，用GitHub账号授权登录。  </li>
<li>点击“New Project”，选择刚创建的<code>hexo-blog</code>仓库，点击“Import”。  </li>
<li>配置部署参数：  <ul>
<li>Framework Preset：选择“Hexo”  </li>
<li>Build Command：默认<code>hexo generate</code>  </li>
<li>Output Directory：默认<code>public</code></li>
</ul>
</li>
<li>点击“Deploy”，等待构建完成，Vercel会分配一个临时域名（如<code>xxx.vercel.app</code>），博客可直接访问。</li>
</ul>
<h2 id="二、运维管理：日志清理与文件同步"><a href="#二、运维管理：日志清理与文件同步" class="headerlink" title="二、运维管理：日志清理与文件同步"></a>二、运维管理：日志清理与文件同步</h2><h3 id="这一步的简单说明"><a href="#这一步的简单说明" class="headerlink" title="这一步的简单说明"></a>这一步的简单说明</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">文档中关于“运维管理：日志清理与文件同步”的内容，主要是以 <span class="strong">**Linux系统**</span> 为核心操作环境生成的（尤其是日志清理部分），但文件同步部分兼容多系统。以下是具体说明：</span><br><span class="line"><span class="section">### 1. 操作环境的针对性</span></span><br><span class="line"><span class="bullet">-</span> <span class="strong">**日志清理（logrotate）**</span>：  </span><br><span class="line">  <span class="code">`logrotate`</span> 是 Linux 系统自带的日志管理工具，仅适用于 Linux 环境（如 Ubuntu、CentOS 等）。文档中直接使用 <span class="code">`sudo`</span>、<span class="code">`/etc/logrotate.d/`</span> 等 Linux 特有的命令和路径，说明这部分内容完全基于 Linux 设计。</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="strong">**文件同步（FreeFileSync）**</span>：  </span><br><span class="line">  这部分是跨平台的，文档提到支持 Windows/macOS/Linux，安装和配置步骤会根据系统略有差异（例如 Windows 用“任务计划程序”，Linux/macOS 用 <span class="code">`crontab`</span> 实现定时同步）。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">### 2. 关于你的操作环境</span></span><br><span class="line">文档并没有预设你的具体操作环境，而是提供了通用方案：  </span><br><span class="line"><span class="bullet">-</span> 如果你使用 Linux 服务器（或本地 Linux 系统），日志清理和文件同步的步骤可以直接复用；  </span><br><span class="line"><span class="bullet">-</span> 如果你使用 Windows 或 macOS，<span class="strong">**日志清理部分需要调整**</span>（Windows 日志管理通常用事件查看器或脚本，macOS 可参考 Linux 但路径和工具不同），但文件同步部分（FreeFileSync）完全适用。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">### 3. Git 与后续步骤的关系</span></span><br><span class="line">Git 是“开发部署（Hexo 博客搭建）”部分的核心依赖，但“运维管理”部分的工具与 Git 无直接关联：  </span><br><span class="line"><span class="bullet">-</span> 日志清理依赖 Linux 系统自带的 <span class="code">`logrotate`</span>，与 Git 无关；  </span><br><span class="line"><span class="bullet">-</span> 文件同步依赖 FreeFileSync 工具，也不需要 Git 环境。  </span><br><span class="line"></span><br><span class="line">因此，是否继续“运维管理”步骤，取决于你的系统环境（尤其是日志清理部分），而非是否安装 Git。如果你的环境是 Windows 或 macOS，可重点参考文件同步部分，日志清理需结合自身系统工具调整。</span><br></pre></td></tr></table></figure>

<h3 id="1-Linux系统日志自动清理（基于logrotate）"><a href="#1-Linux系统日志自动清理（基于logrotate）" class="headerlink" title="1. Linux系统日志自动清理（基于logrotate）"></a>1. Linux系统日志自动清理（基于logrotate）</h3><h4 id="（1）检查logrotate是否安装"><a href="#（1）检查logrotate是否安装" class="headerlink" title="（1）检查logrotate是否安装"></a>（1）检查logrotate是否安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 大多数Linux系统默认安装，验证：</span></span><br><span class="line">logrotate --version</span><br></pre></td></tr></table></figure>

<h4 id="（2）创建自定义日志清理配置"><a href="#（2）创建自定义日志清理配置" class="headerlink" title="（2）创建自定义日志清理配置"></a>（2）创建自定义日志清理配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建配置文件（以清理/var/log下7天前的日志为例）</span></span><br><span class="line"><span class="built_in">sudo</span> nano /etc/logrotate.d/custom_logs</span><br></pre></td></tr></table></figure>
<p>添加以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/var/log/*.log &#123;  # 匹配/var/log下所有.log文件</span><br><span class="line">    daily          # 每天执行一次</span><br><span class="line">    rotate 7       # 保留7天的日志</span><br><span class="line">    missingok      # 日志文件不存在时不报错</span><br><span class="line">    notifempty     # 日志为空时不处理</span><br><span class="line">    compress       # 压缩旧日志（.gz格式）</span><br><span class="line">    delaycompress  # 延迟压缩（下次轮转时再压缩当前日志）</span><br><span class="line">    create 0644 root root  # 轮转后创建新日志文件，权限为0644</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>保存退出（nano中按<code>Ctrl+O</code>→回车→<code>Ctrl+X</code>）。</p>
<h4 id="（3）测试配置是否生效"><a href="#（3）测试配置是否生效" class="headerlink" title="（3）测试配置是否生效"></a>（3）测试配置是否生效</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 强制运行一次配置（测试用）</span></span><br><span class="line"><span class="built_in">sudo</span> logrotate -f /etc/logrotate.d/custom_logs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看日志清理记录（可在/var/log/syslog中搜索logrotate）</span></span><br><span class="line">grep logrotate /var/log/syslog</span><br></pre></td></tr></table></figure>

<p>在 Windows 操作系统下，“运维管理：日志清理与文件同步”的操作会与 Linux 有所不同，但核心目标（释放空间、保持数据一致）一致。以下是针对 Windows 环境的具体调整方案：</p>
<h3 id="一、日志清理（Windows-环境）"><a href="#一、日志清理（Windows-环境）" class="headerlink" title="一、日志清理（Windows 环境）"></a>一、日志清理（Windows 环境）</h3><p>Windows 系统的日志主要分为两类：<strong>系统&#x2F;应用日志（事件查看器）</strong> 和 <strong>自定义应用日志（如 Hexo 本地运行日志、服务器日志等）</strong>，清理方式不同：</p>
<h4 id="1-系统-应用日志（事件查看器）"><a href="#1-系统-应用日志（事件查看器）" class="headerlink" title="1. 系统&#x2F;应用日志（事件查看器）"></a>1. 系统&#x2F;应用日志（事件查看器）</h4><p>Windows 自带的“事件查看器”会记录系统、安全、应用程序的运行日志，长期积累可能占用空间，清理步骤：</p>
<ul>
<li><p>打开“事件查看器”：按下 <code>Win + R</code> → 输入 <code>eventvwr.msc</code> → 回车。</p>
</li>
<li><p>展开左侧目录（如“Windows 日志”→“系统”），右键选择“清除日志”：</p>
<ul>
<li>可选择“保存并清除”（备份重要日志）或直接“清除”。</li>
</ul>
</li>
<li><p>自动化清理：<br>通过 <strong>任务计划程序</strong> 定期执行命令（需管理员权限）：  </p>
<ol>
<li>新建一个批处理文件（如 <code>clear_event_logs.bat</code>），内容：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:: 清除系统日志</span><br><span class="line">wevtutil cl System</span><br><span class="line">:: 清除应用程序日志</span><br><span class="line">wevtutil cl Application</span><br><span class="line">:: 清除安全日志（需管理员权限）</span><br><span class="line">wevtutil cl Security</span><br></pre></td></tr></table></figure></li>
<li>打开“任务计划程序”→ 新建任务，设置触发条件（如每周日凌晨），操作选择“启动程序”，指向该批处理文件，并勾选“使用最高权限运行”。</li>
</ol>
</li>
</ul>
<h4 id="2-自定义应用日志（如-Hexo-相关日志）"><a href="#2-自定义应用日志（如-Hexo-相关日志）" class="headerlink" title="2. 自定义应用日志（如 Hexo 相关日志）"></a>2. 自定义应用日志（如 Hexo 相关日志）</h4><p>如果你的应用（如本地服务器、工具）生成了自定义日志文件（如 <code>.log</code> 格式），可通过脚本定期清理：</p>
<ul>
<li>例如，清理 <code>D:\hexo-blog\logs</code> 目录下 30 天前的 <code>.log</code> 文件：  <ol>
<li>新建批处理文件（<code>clear_custom_logs.bat</code>）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:: 清理30天前的.log文件</span><br><span class="line">forfiles /p &quot;D:\hexo-blog\logs&quot; /s /m *.log /d -30 /c &quot;cmd /c del @path&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li>参数说明：<code>/d -30</code> 表示“30天前”，<code>/m *.log</code> 匹配日志文件，<code>del @path</code> 删除文件。</li>
</ul>
</li>
<li>同样通过“任务计划程序”设置定时执行（如每天凌晨）。</li>
</ol>
</li>
</ul>
<h3 id="二、文件同步（Windows-环境，复用原方案核心）"><a href="#二、文件同步（Windows-环境，复用原方案核心）" class="headerlink" title="二、文件同步（Windows 环境，复用原方案核心）"></a>二、文件同步（Windows 环境，复用原方案核心）</h3><p>原文档中提到的 <strong>FreeFileSync</strong> 完全支持 Windows，可直接沿用，步骤补充如下：</p>
<h4 id="1-安装与配置"><a href="#1-安装与配置" class="headerlink" title="1. 安装与配置"></a>1. 安装与配置</h4><ul>
<li>下载 <a target="_blank" rel="noopener" href="https://freefilesync.org/">FreeFileSync</a> 的 Windows 版本（<code>.exe</code> 安装包），按向导安装（建议勾选“添加到系统PATH”方便调用）。</li>
<li>配置同步任务：  <ul>
<li>源目录：本地需要同步的文件夹（如 <code>D:\hexo-blog\source\images</code>，Hexo 博客的图片资源）。  </li>
<li>目标目录：可选择：  <ul>
<li>远程服务器（通过 SSH&#x2F;FTP，需服务器支持，配置方式与文档一致）；  </li>
<li>本地备份盘（如移动硬盘 <code>E:\backup\hexo-images</code>）；  </li>
<li>云存储目录（如 OneDrive 同步文件夹）。</li>
</ul>
</li>
<li>同步模式推荐“Mirror”（镜像模式），确保目标与源一致。</li>
</ul>
</li>
</ul>
<h4 id="2-定时自动同步（Windows-专属）"><a href="#2-定时自动同步（Windows-专属）" class="headerlink" title="2. 定时自动同步（Windows 专属）"></a>2. 定时自动同步（Windows 专属）</h4><p>通过“任务计划程序”实现定时触发：</p>
<ol>
<li>打开“任务计划程序”→ 点击“创建基本任务”，输入名称（如“Hexo文件同步”）。</li>
<li>触发条件：选择“每天”或“每周”，设置具体时间（如凌晨3点）。</li>
<li>操作：选择“启动程序”，在“程序或脚本”中浏览到 <code>FreeFileSync.exe</code>（默认路径：<code>C:\Program Files\FreeFileSync\FreeFileSync.exe</code>），在“添加参数”中填写你的同步任务文件路径（如 <code>&quot;D:\sync_tasks\hexo_sync.ffs_batch&quot;</code>）。</li>
<li>完成设置后，任务会按计划自动运行，可在“任务计划程序库”中查看执行记录。</li>
</ol>
<h3 id="三、总结（Windows-运维核心工具）"><a href="#三、总结（Windows-运维核心工具）" class="headerlink" title="三、总结（Windows 运维核心工具）"></a>三、总结（Windows 运维核心工具）</h3><table>
<thead>
<tr>
<th>操作</th>
<th>工具&#x2F;方式</th>
<th>核心目的</th>
</tr>
</thead>
<tbody><tr>
<td>日志清理</td>
<td>事件查看器 + 批处理脚本 + 任务计划程序</td>
<td>定期删除旧日志，释放磁盘空间</td>
</tr>
<tr>
<td>文件同步</td>
<td>FreeFileSync + 任务计划程序</td>
<td>保证本地与目标位置文件一致</td>
</tr>
</tbody></table>
<p>无需依赖 Linux 命令，完全基于 Windows 自带工具和跨平台软件即可实现，操作逻辑与原方案一致，只是工具路径和配置界面不同。如果后续涉及远程 Linux 服务器的运维（如日志清理），再针对服务器单独配置即可，本地 Windows 环境按上述步骤处理即可。</p>
<h3 id="2-本地与服务器文件同步（基于FreeFileSync）"><a href="#2-本地与服务器文件同步（基于FreeFileSync）" class="headerlink" title="2. 本地与服务器文件同步（基于FreeFileSync）"></a>2. 本地与服务器文件同步（基于FreeFileSync）</h3><h4 id="（1）安装FreeFileSync"><a href="#（1）安装FreeFileSync" class="headerlink" title="（1）安装FreeFileSync"></a>（1）安装FreeFileSync</h4><ul>
<li>访问<a target="_blank" rel="noopener" href="https://freefilesync.org/">FreeFileSync官网</a>，下载对应系统版本（Windows&#x2F;macOS&#x2F;Linux），按向导安装。</li>
</ul>
<h4 id="（2）配置同步任务"><a href="#（2）配置同步任务" class="headerlink" title="（2）配置同步任务"></a>（2）配置同步任务</h4><ol>
<li>打开FreeFileSync，点击“New”创建任务。  </li>
<li>设置同步目录：  <ul>
<li>左侧（源目录）：本地图片文件夹（如<code>D:\Photos</code>）  </li>
<li>右侧（目标目录）：服务器目录（需先通过SSH&#x2F;FTP连接服务器）  <ul>
<li>若服务器支持SSH：点击右侧目录框旁的“SSH”图标，输入服务器IP、用户名、密码（或选择SSH密钥文件），指定目标路径（如<code>/var/www/photos</code>）。  </li>
<li>若用FTP：选择“FTP”协议，输入服务器FTP地址、账号密码。</li>
</ul>
</li>
</ul>
</li>
<li>选择同步模式：  <ul>
<li>推荐“Mirror”（镜像模式：使目标目录与源目录完全一致，删除目标中源没有的文件）。</li>
</ul>
</li>
<li>点击“Save As”保存任务（如<code>sync_photos.ffs_batch</code>）。</li>
</ol>
<h4 id="（3）设置定时自动同步"><a href="#（3）设置定时自动同步" class="headerlink" title="（3）设置定时自动同步"></a>（3）设置定时自动同步</h4><ul>
<li><strong>Windows</strong>：通过“任务计划程序”，新建任务，触发条件设为“每天”，操作选择“启动程序”，指向FreeFileSync安装目录的<code>FreeFileSync.exe</code>，参数填写任务文件路径（如<code>&quot;C:\sync_photos.ffs_batch&quot;</code>）。  </li>
<li><strong>Linux&#x2F;macOS</strong>：通过<code>crontab</code>定时运行，例如每天凌晨2点同步：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑定时任务</span></span><br><span class="line">crontab -e</span><br><span class="line"><span class="comment"># 添加以下内容（路径替换为实际任务文件位置）</span></span><br><span class="line">0 2 * * * /usr/bin/FreeFileSync /path/to/sync_photos.ffs_batch</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="三、验证与问题排查"><a href="#三、验证与问题排查" class="headerlink" title="三、验证与问题排查"></a>三、验证与问题排查</h2><ol>
<li><strong>博客部署验证</strong>：修改本地Hexo文章（<code>source/_posts/</code>下的Markdown文件），执行<code>hexo g -d</code>后，检查GitHub Pages&#x2F;Vercel是否同步更新。  </li>
<li><strong>日志清理验证</strong>：7天后查看<code>/var/log</code>目录，确认旧日志已被压缩或删除，且新日志正常生成。  </li>
<li><strong>文件同步验证</strong>：本地修改一张图片，手动运行同步任务，检查服务器对应目录是否更新。</li>
</ol>
<p>通过以上步骤，可完成零成本的Hexo博客部署及运维管理全流程，所有工具均为开源免费，适合学习者实操实践。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/20/3.1%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E9%83%A8%E7%BD%B2/" data-id="cmefc2qcx000020v0bpanad6y" data-title="3.1具体实施部署" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/08/13/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/08/13/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2024/05/20/3.1%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E9%83%A8%E7%BD%B2/">3.1具体实施部署</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>